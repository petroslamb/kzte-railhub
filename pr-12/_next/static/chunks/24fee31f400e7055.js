(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73186,e=>{e.v({actions:"escrow-simulator-module__4U82tW__actions",button:"escrow-simulator-module__4U82tW__button",buttonSecondary:"escrow-simulator-module__4U82tW__buttonSecondary",hint:"escrow-simulator-module__4U82tW__hint",panel:"escrow-simulator-module__4U82tW__panel",statusBadge:"escrow-simulator-module__4U82tW__statusBadge",timeline:"escrow-simulator-module__4U82tW__timeline",timelineDot:"escrow-simulator-module__4U82tW__timelineDot",timelineItem:"escrow-simulator-module__4U82tW__timelineItem",txLink:"escrow-simulator-module__4U82tW__txLink",txList:"escrow-simulator-module__4U82tW__txList",walletButtonShim:"escrow-simulator-module__4U82tW__walletButtonShim",walletRow:"escrow-simulator-module__4U82tW__walletRow"})},44726,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(67762),n=e.i(57970),s=e.i(60208);function i({walletIcon:e,walletName:t,...l}){return a.default.createElement(n.Button,{...l,className:"wallet-adapter-button-trigger",startIcon:e&&t?a.default.createElement(s.WalletIcon,{wallet:{adapter:{icon:e,name:t}}}):void 0})}var o=e.i(86614);function r({children:e,labels:t,...n}){let{setVisible:s}=(0,o.useWalletModal)(),{buttonState:r,onConnect:c,onDisconnect:d,publicKey:u,walletIcon:m,walletName:w}=function({onSelectWallet:e}){let t,{connect:n,connected:s,connecting:i,disconnect:o,disconnecting:r,publicKey:c,select:d,wallet:u,wallets:m}=(0,l.useWallet)();t=i?"connecting":s?"connected":r?"disconnecting":u?"has-wallet":"no-wallet";let w=(0,a.useCallback)(()=>{n().catch(()=>{})},[n]),h=(0,a.useCallback)(()=>{o().catch(()=>{})},[o]);return{buttonState:t,onConnect:"has-wallet"===t?w:void 0,onDisconnect:"disconnecting"!==t&&"no-wallet"!==t?h:void 0,onSelectWallet:(0,a.useCallback)(()=>{e({onSelectWallet:d,wallets:m})},[e,d,m]),publicKey:c??void 0,walletIcon:u?.adapter.icon,walletName:u?.adapter.name}}({onSelectWallet(){s(!0)}}),[h,_]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),g=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{let t=g.current;!t||t.contains(e.target)||f(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);let x=(0,a.useMemo)(()=>{if(e)return e;if(u){let e=u.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===r||"has-wallet"===r?t[r]:t["no-wallet"]},[r,e,t,u]);return a.default.createElement("div",{className:"wallet-adapter-dropdown"},a.default.createElement(i,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(r){case"no-wallet":s(!0);break;case"has-wallet":c&&c();break;case"connected":f(!0)}},walletIcon:m,walletName:w},x),a.default.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:g,role:"menu"},u?a.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),_(!0),setTimeout(()=>_(!1),400)},role:"menuitem"},h?t.copied:t["copy-address"]):null,a.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{s(!0),f(!1)},role:"menuitem"},t["change-wallet"]),d?a.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{d(),f(!1)},role:"menuitem"},t.disconnect):null))}let c={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function d(e){return a.default.createElement(r,{...e,labels:c})}var u=e.i(73186);let m={idle:"Connect a wallet to stage escrow",creating:"Escrow vault initializing…",ready:"Escrow funded – release when UAE compliance clears",releasing:"Releasing escrow to beneficiary…",settled:"Funds released. Flow complete."},w=["Wallet handshake (Phantom, Solflare, Torus)","Create escrow vault & escrow USDC","Compliance + FX approval","Release escrow to UAE operator"],h=e=>`https://explorer.solana.com/tx/${e}?cluster=devnet`;function _(){let{connected:e}=(0,l.useWallet)(),[n,s]=(0,a.useState)("idle"),[i,o]=(0,a.useState)(null),[r,c]=(0,a.useState)(null),[_,p]=(0,a.useState)(!1),f=(0,a.useSyncExternalStore)(()=>()=>{},()=>!0,()=>!1),g=(0,a.useMemo)(()=>"idle"===n?"warning":"creating"===n||"releasing"===n?"pending":"success",[n]),x=()=>`DEVNET-${Math.random().toString(16).split(".")[1]?.slice(0,12)}`,v=e=>new Promise(t=>setTimeout(t,e)),b=(0,a.useCallback)(async()=>{s("creating"),p(!0),o(null),c(null),await v(1200),o(x()),s("ready")},[]),E=(0,a.useCallback)(async()=>{s("releasing"),await v(1400),p(!1),c(x()),s("settled")},[]),N=!e||"creating"===n,C="ready"!==n&&"releasing"!==n;return(0,t.jsxs)("section",{className:u.default.panel,children:[(0,t.jsxs)("div",{className:u.default.walletRow,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:u.default.hint,children:"Wallet status"}),(0,t.jsx)("span",{"data-variant":g,className:u.default.statusBadge,children:m[n]})]}),f?(0,t.jsx)(d,{}):(0,t.jsx)("div",{className:u.default.walletButtonShim,"aria-hidden":!0})]}),(0,t.jsxs)("div",{className:u.default.actions,children:[(0,t.jsx)("button",{className:u.default.button,disabled:N,onClick:b,children:"Create Escrow"}),(0,t.jsx)("button",{className:`${u.default.button} ${u.default.buttonSecondary}`,disabled:C,onClick:E,children:"Release Escrow"})]}),(0,t.jsx)("div",{className:u.default.timeline,children:w.map((e,a)=>{let l={idle:0,creating:1,ready:2,releasing:3,settled:4}[n]>a;return(0,t.jsxs)("div",{className:u.default.timelineItem,children:[(0,t.jsx)("span",{className:u.default.timelineDot,"data-active":l,"aria-hidden":!0}),(0,t.jsx)("span",{children:e})]},e)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:u.default.hint,children:"Latest transactions"}),(0,t.jsxs)("div",{className:u.default.txList,children:[(0,t.jsxs)("span",{children:["Vault funding:"," ",i?(0,t.jsx)("a",{className:u.default.txLink,href:h(i),target:"_blank",rel:"noreferrer",children:i}):"—"]}),(0,t.jsxs)("span",{children:["Release to UAE Rail:"," ",r?(0,t.jsx)("a",{className:u.default.txLink,href:h(r),target:"_blank",rel:"noreferrer",children:r}):"—"]})]})]}),(0,t.jsx)("p",{className:u.default.hint,children:_?"Awaiting bilateral compliance + FX confirmation…":"RailHub ready for the next settlement window."})]})}e.s(["EscrowSimulator",()=>_],44726)}]);